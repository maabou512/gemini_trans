---
title: "Microsoft"
---

## Microsoft におけるオープンソースプログラム：オープンソースがどのようにして成功しているのか

Microsoft は現在、オープンソース分野の大手企業として認められていますが、ほんの数年前までは、このソフトウェア大手がこのような役割を担うことは想像もつきませんでした。そのため、Microsoft が市場をリードするプロプライエタリソフトウェアメーカーから、オープンソースへと大きく舵を切ったとき、多くの人が驚きを隠せませんでした。同社のストーリーは注目に値するものの、そのオープンソースの道のりは、見かけほど唐突でも意外なものでもありませんでした。

> 「認識とは裏腹に、Microsoft はかなり前からオープンソースに取り組んできました。当初は、あちこちで実験的なものが行われていましたが、約6年前の2011年に、Microsoft Open Technologies という組織で、それらの多くを統合しました。」と、Microsoft のオープンソースプログラムオフィスディレクターである Jeff McAffer 氏は説明しています。

## 本格的なオープンソースへの取り組み

McAffer 氏によると、Microsoft がオープンソースで何ができるのかを本格的に模索し始めたのはこの時からだといいます。初期の頃は、社内でオープンソースに取り組みたいと考えている人は、この集中管理されたグループに所属するオープンソースの開発者、貢献者、メンテナーに支援を求めていました。

約3年前から、状況は変わり始めました。Microsoft は、社全体にオープンソースを普及させることを決定し、メインのエンジニアリンググループにオープンソースを統合しました。

> 「もし私たちがそれだけをしていたら、オープンソースのやり方に関して、維持できないほどの空白地帯を残してしまっていたでしょう。」と McAffer 氏は述べています。「誰かが、ポリシーや、すべてのオープンソースの取り組みをどのように調整するか、使用するプロセスやツール、プロジェクトをどのように追跡するかなどを考えなければなりません。そこで、私たちは、これらの問題すべてを処理するために、現在オープンソースプログラムオフィスとして知られているものを設立しました。」

以前のオープンソースグループの技術者の何人かは、新しく設立されたプログラムオフィスに移り、他の技術者は、それぞれの仕事に関連するエンジニアリンググループに加わりました。結果として、Microsoft は、すべてのプロジェクトとプロセスを完全に人員配置するために、追加の人材が必要であることが判明し、すぐに社内および社外での採用活動が開始されました。現在、オープンソースは、Microsoft のグローバルな事業において、成功している分野の1つです。

## ビジネス目標とプログラム目標

Microsoft には、中央集権的なオープンソース戦略や承認機関はありません。その代わりに、オープンソースプログラムオフィスは、社内全体で、そうした議論や意思決定を促進しています。チームは、オープンソースへの関与について引き続きレビューを受ける必要がありますが、それはよりローカルに行われます。

> 「彼らは自分たちのビジネスを知っており、技術的なやり取りをどのように行いたいのか、エコシステムの観点からどこを目指したいのか、そして、起こる必要のあるあらゆるニュアンスを理解しています。」と McAffer 氏は述べています。

> 「私たちは、そうした意思決定や方向性のほとんどを、現地の経営陣に任せていますが、彼らがそうした意思決定や方向性を考えるための枠組みを提供しています。知的財産をどのように管理するか、セキュリティの問題にどのように対処するかについては、中央のポリシーがあります。私たちは、彼らに、それらのポリシーを具体化したツールとプロセスを提供し、一貫性がありながらも具体的な方法で実行できるようにしています。」

## 管理するためのツール

Microsoft のポリシーは、ワークロードを処理するために、プロセスに落とし込まれ、それに応じてツール化されます。一例として、オープンソースのリリースが挙げられます。ポリシーとして、リリースは GitHub 上で行われます。

> 「私たちは、約 100 の組織にわたる 10,000 件を超えるリポジトリを管理し、約 12,000 人の Microsoft 社員がその空間でやり取りをしている GitHub 上でのプレゼンスを中心に、多くのツールを開発しています。」と McAffer 氏は述べています。

> 「それは、実に多くの側面を管理するためのシステムを本当に必要とする規模にまで達しています。例えば、誰かが私たちが運営しているプロジェクトの1つに貢献したい場合、貢献者ライセンス契約（CLA）を管理するためのツールが必要になります。そうしたすべてのことに対して、私たちは、自分たちでソリューションを構築するか、オープンソースのソリューションに頼っています。」例えば、CLA の管理には、Microsoft は SAP が開発したオープンソースプログラムである [CLA Assistant](https://cla-assistant.io) を使用しています。

> 「GitHub の管理面では、GitHub 上での企業プレゼンスを管理するのに役立つ既存のツールセットがなかったため、別の方向に進みました。」と McAffer 氏は述べています。「そこで、私たちは、現在 [オープンソースポータル](https://github.com/Microsoft/opensource-portal) と呼ばれているものを開発しました。これは、GitHub でオープンソースとして公開されています。」

その要素は、[opensource.microsoft.com](https://opensource.microsoft.com/) で容易に見ることができますが、Microsoft 社員がリポジトリやチームを管理する内部的な側面もあります。「私たちは、それをオープンソース化しており、他の企業もそれを採用して、社内で使用しています。つまり、双方向的なものなのです。」と McAffer 氏は説明しています。

GitHub は非常にリッチな環境であり、多くのインタラクションが可能です。Microsoft は、他の多くの企業と同様に、起こっていることすべてを追跡し、リポジトリで何が起こっているのかを理解することが困難であることに気づいていました。

> 「そこで、GHTorrent プロジェクトに参加することになりました。私たちは、彼らとかなりの量の作業を行い、実際、現在 GHTorrent プロジェクトのスポンサーとなっており、Azure のすべてのリソースに対して費用を支払っています。[GHTorrent.org](http://ghtorrent.org/) で確認できます。」と彼は述べています。

GHTorrent は、Microsoft が GitHub で何が起こっているのかを理解するのに役立つだけでなく、自社のプロジェクトに関して社内で何が起こっているのかを理解するのにも役立ちます。それでも、GHTorrent が対応していないものもあります。例えば、プライベートリポジトリの処理や、管理者権限が必要なチームに関するより詳細なデータの処理などです。

そこで、[GHCrawler](https://github.com/microsoft/ghcrawler) と呼ばれる別のシステムを開発し、これもオープンソース化しました。このツールは、GitHub 上のすべてを、コミットレベル、チーム、権限の変更まで追跡します。そして、そのデータは、メトリクスやトラッキング分析に使用され、受信したプルリクエストの数、アクションの実行速度、クローズまたはマージにかかる時間などの洞察を明らかにします。「それは、私たちのプレゼンスを追跡する方法を提供してくれます。」と McAffer 氏は述べています。

## オープンソースの使用をシンプルに

オープンソースの利用は全く別の問題であり、Microsoft では異なるプロセスとなっています。同社は、無数の方法でオープンソースを使用しており、それらすべてを追跡し、法的なセキュリティの側面を管理する必要があるため、膨大な作業量となります。

> 「私たちは、オープンソースの使用に関するプロセスとポリシーを簡素化し、責任あるオープンソースの利用者であることの重要な属性、正しい方法、ライセンスを遵守していることを確認する方法を本当に理解するために、膨大な量の作業を行ってきました。」と McAffer 氏は述べています。

> 「そのため、社内で、そこで何が起こっているのかを発見、追跡、監視し、オープンソースの使用状況を報告するためのツールを数多く開発してきました。」と彼は続けます。これらのツールは、Microsoft のエンジニアリングシステムと深く統合されているため、ある程度プロプライエタリなものになる傾向があります。

> 「私たちは、それをどのようにすれば切り離して、オープンソースコミュニティ全体でより広く利用できるようにできるかを検討してきましたが、それは多くの点で、私たちのビジネスポリシーやエンジニアリングシステムに非常に固有のものであり、他の誰かと全く同じになることはないため、少し難しいです。」と McAffer 氏は述べています。

Microsoft のオープンソースの道のりは、長年にわたって興味深いものであり、真のオープンソースの精神に基づき、ツールからコードまで、そのプロセスで学んだことを、今後もすべての人と共有していきます。

## 謝辞

インタビューにご協力いただいた、Microsoft のシニアオープンソースプログラムマネージャーである Carol Smith 氏と、Microsoft のオープンソースプログラムオフィスディレクターである Jeff McAffer 氏に感謝いたします。また、インタビューを行った Pam Baker 氏にも感謝いたします。

