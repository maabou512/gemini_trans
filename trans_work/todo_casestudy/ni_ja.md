---
title: National Instruments
---

2013年、National Instrumentsは、初のリアルタイムLinuxデバイスを出荷し、オープンソースへの取り組みを大きく拡大しました。このリリースにより、複数の企業製品や組織にわたって、オープンソースへの関与が着実に広がっていきました。オープンソースの成功を重ねるごとに、私たちはオープンソースとの連携を最適化する方法を学び、オープンソース活動の好循環を続けています。直近では、オープンソースへの意識を高めるために、オープンソース「ギルド」を設立しました。 この記事では、オープンソースの成功事例と、複数のプロジェクトやチームで学んだことを継続的にどのように応用しているかについて説明します。

## 好循環の開始: リアルタイムLinuxの採用

Linuxに移行する前は、NIのリアルタイムデバイスは、独自のリアルタイムOS上で動作していました。 ハードウェアの機能と顧客のニーズが高まるにつれて、新しいデバイスにリアルタイムOSのサポートを提供することがますます困難でコストがかかるようになりました。 新しいアーキテクチャやバスにリアルタイムOSのサポートを追加するには、多大なコストと時間がかかることがよくあります。

リアルタイムOS分野における選択肢を徹底的に再評価した結果、PREEMPT\_RT（リアルタイムパッチセット）を搭載したLinuxが、お客様のニーズに最適であると判断しました。 このソリューションは、デバイスと周辺機器の幅広いサポート、リアルタイム動作、そしてアプリケーション、ツール、ライブラリからなる巨大な開発者エコシステムへのアクセスを提供します。 いくつかの優れたオープンソースプロジェクト（Yocto、OpenEmbedded、PREEMPT\_RT、U-Boot）を使用して、ARMベースのデバイス向けにカスタムLinuxディストリビューションを構築し、「NI Linux Real-Time」と名付けました。

この分野におけるオープンソースプロジェクトの成熟度が高かったため、最初のARMベースのリリースに続いて、x64デバイスのサポートを追加したNI Linux Real-Timeのアップデートと、グラフィカルユーザーインターフェース（NIのリアルタイムデバイスとしては初）の追加を迅速に行うことができました。

最初のNI Linux Real-Timeデバイスを出荷して間もなく、[気がかりなニュース](https://lwn.net/Articles/572740/)を受けました。Linuxにおけるリアルタイムの将来が不透明になったのです。 当時、リアルタイムパッチセットは広く使用されていましたが、その維持を継続するための十分な投資がありませんでした。 私たちはリアルタイムLinuxコミュニティにとって新参者であったため、どのように関与すればよいかわかりませんでした。 そこでまずは、Linux Foundationに連絡を取り、ガイダンスと支援を求めました。 彼らは、カーネルコミュニティと、この問題の解決に興味を持つ他の企業の適切な担当者に私たちをつないでくれました。

2015年、[Real-Time Linux Collaborative Projectが設立](https://www.linux.com/news/new-collaborative-group-speed-real-time-linux)され、NIはその創設メンバーとなりました。 NIのエンジニアは、資金提供に加えて、RTコミュニティに関与し、安定版リリースのメンテナンスや[カンファレンスのプレゼンテーション](https://www.linux.com/BLOG/ELC/2018/4/DEVELOPERS-PREPARE-YOUR-DRIVERS-REAL-TIME-LINUX)を行ってきました。

![](/img/guides/casestudies/rtlogo.png)


Real-Time Linux Collaborative Projectは、非常に大きな成功を収めてきました。 最近では、[Linus Torvalds氏がカーネルへの変更を受け入れ](https://wiki.linuxfoundation.org/realtime/rtl/blog#the_jury_has_spoken/)、リアルタイムがLinuxの第一級市民になることが示されました。

この経験から、私たちはオープンソースコミュニティのビジネスリーダーやテクノロジーリーダーに連絡を取ることをためらわないようになりました。 共通の問題を解決するために協力する方法を見つけるという強い文化があります。

## 好循環の継続: Saltの採用

Linuxを採用した頃、NIの別のチームは、ソフトウェア製品にシステム管理機能を追加するために投資を行っていました。 彼らは、システム管理バックエンドをゼロから記述することを計画していましたが、オープンソースに精通したエンジニアから、オープンソースの選択肢を評価するように勧められました。 調査の結果、基盤となるシステム管理プラットフォーム要素として[Salt](https://www.saltstack.com)を選択しました。

Saltは私たちの要件のほとんどを満たしていましたが、必要な機能がいくつか欠けていました。 Real-Time Linuxの経験から学んだことを踏まえ、コミュニティと連携し、Saltの使用方法を共有し、改善を提案しました。 私たちの貢献は、Saltコミュニティから[非常に好意的な反応](https://github.com/saltstack/salt/pull/21825)を得られました。

NIの開発者は、Saltのクロスプラットフォームサポート、パッケージマネージャーサポート、コアネットワークプロトコルサポートを改善してきました。 これまでに、Saltに対して数百もの改善を行ってきました。 最近では、プロジェクトのリーダーシップからワーキンググループへの参加を打診され、今後のリリースにさらに大きな影響を与えることができるようになりました。

Saltの採用から得られた教訓の1つは、オープンソースプロジェクトがすべてを満たしていないからといって、それを拒否しないことです。 目標がプロジェクトと一致しており、プロジェクトが必要な機能のほとんどを満たしている場合は、独自の独立したソリューションを作成しようとするよりも、ニーズに合わせてプロジェクトを改善する方がはるかに良い結果が得られます。

Saltから得られた2つ目の教訓は、別のユースケースを念頭に置いて設計されたオープンソースプロジェクトだからといって、それを拒否しないことです。 Saltは、主にITおよびクラウドインフラストラクチャ管理のニーズを満たすように設計されており、産業用デバイス管理のニーズを満たすように設計されていませんでした。 環境が異なっていても、解決すべき問題にはかなりの重複があり、プロジェクトの作成者が想定していなかったユースケースにも効果的なソリューションとなっています。

## 好循環の維持: オープンソースギルド

Saltでの経験から、次のように考えるようになりました。 私たちのニーズを念頭に置いて構築されてはいないものの、アプリケーション分野の問題を解決できるオープンソースプロジェクトは、他にもたくさんあります。 ここ数年で、クラウド技術、人工知能、機械学習、アナリティクスなどの分野で、信じられないほどの数のプロジェクトが登場しています。 お客様が自動テストおよび計測システムから取得した大量の計測データを分析したいと考えていることを考えると、NIはこれらのプロジェクトの恩恵を受けることができる絶好の立場にあります。

私たちのニーズに合致するオープンソースプロジェクトを最大限に活用し続けるために、NIは社内のオープンソース実践者で構成されるオープンソースギルドを設立しました。 オープンソースギルドの主な目的は、関連するオープンソース技術を探求し、オープンソースの状況に関する知識を社内に広め、オープンソースのさらなる採用を推奨することです。 私たちは定期的に会合を開き、有望なオープンソースの可能性について議論し、調査を開始しています。 これは、開発チームが健全で、かつ、私たちのニーズに合致したオープンソースコミュニティと連携するのに役立ちます。 ギルドのメンバーは、[GitHub](https://github.com/ni)や[PyPI](https://pypi.org/user/opensource_ni/)などのサイトでオープンソースの存在感をキュレーションし、開発者が新しいオープンソースプロジェクトを公開するのを支援しています。

## 結論

オープンソースへの参加の好循環は、次のようなものです。

1. オープンソースが顧客のニーズを満たすのに役立つ機会を見つける。
2. オープンソース技術のメリットを提供し、アップストリームコミュニティと連携する。 この経験を生かしてオープンソースのIQを高め、オープンソースが価値をもたらす可能性のある場所をさらに見つける。
3. 繰り返す。

コードレビューやブランチングのためのインナーソースプラクティス、アップストリームプロジェクトに遅れないようにすることの利点など、オープンソースから学び、採用してきたものは他にもたくさんあります。 出会うコミュニティごとにオープンソースから学び続ける時間をとることで、私たちは大きな恩恵を受けてきました。

